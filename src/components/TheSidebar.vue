<template>
  <q-drawer :width="130" show-if-above v-model="drawerOpen" side="left" behavior="desktop" bordered
    class="flex flex-col justify-evenly">
    <div class="flex flex-col justify-around max-w-64 pl-10">
      <q-list padding class="menu-list w-full space-y-2">
        <svg width="69" height="59" viewBox="0 0 69 59" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.556452" y="0.556452" width="67.8871" height="57.871" rx="7.23387" fill="#FAFCFE" />
          <rect x="0.556452" y="0.556452" width="67.8871" height="57.871" rx="7.23387" stroke="#306DBD"
            stroke-width="1.1129" />
          <path
            d="M25.5968 26.5243L34.5 19.5996L43.4033 26.5243V37.4061C43.4033 37.9308 43.1948 38.434 42.8238 38.8051C42.4527 39.1761 41.9495 39.3846 41.4248 39.3846H27.5753C27.0506 39.3846 26.5473 39.1761 26.1763 38.8051C25.8052 38.434 25.5968 37.9308 25.5968 37.4061V26.5243Z"
            stroke="#306DBD" stroke-width="2.22581" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M31.5323 39.3847V29.4922H37.4678V39.3847" stroke="#306DBD" stroke-width="2.22581"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>


        <svg width="69" height="60" viewBox="0 0 69 60" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M42.1096 27.0269V28.5488H42.8706V31.5926C42.8706 32.1981 42.6301 32.7787 42.2019 33.2069C41.7738 33.635 41.1932 33.8755 40.5877 33.8755C39.9822 33.8755 39.4016 33.635 38.9735 33.2069C38.5453 32.7787 38.3048 32.1981 38.3048 31.5926V28.5488H39.0658V27.0269H36.7829V31.5926C36.784 32.4693 37.0874 33.3188 37.6419 33.9979C38.1963 34.677 38.968 35.1441 39.8267 35.3206V36.1584C39.8267 36.9657 39.506 37.7399 38.9352 38.3107C38.3644 38.8816 37.5902 39.2022 36.7829 39.2022C35.9756 39.2022 35.2014 38.8816 34.6306 38.3107C34.0597 37.7399 33.739 36.9657 33.739 36.1584V34.4965C34.2468 34.3169 34.6747 33.9637 34.9472 33.4992C35.2197 33.0347 35.3192 32.4889 35.2281 31.9581C35.137 31.4273 34.8613 30.9458 34.4495 30.5987C34.0378 30.2516 33.5166 30.0612 32.9781 30.0612C32.4396 30.0612 31.9184 30.2516 31.5066 30.5987C31.0949 30.9458 30.8191 31.4273 30.7281 31.9581C30.637 32.4889 30.7365 33.0347 31.009 33.4992C31.2815 33.9637 31.7094 34.3169 32.2171 34.4965V36.1584C32.2171 37.3693 32.6982 38.5306 33.5544 39.3869C34.4107 40.2431 35.572 40.7242 36.7829 40.7242C37.9938 40.7242 39.1551 40.2431 40.0114 39.3869C40.8676 38.5306 41.3487 37.3693 41.3487 36.1584V35.3206C42.2074 35.1441 42.9791 34.677 43.5335 33.9979C44.088 33.3188 44.3914 32.4693 44.3925 31.5926V27.0269H42.1096ZM32.9781 31.5926C33.1286 31.5926 33.2757 31.6373 33.4008 31.7209C33.526 31.8045 33.6235 31.9233 33.6811 32.0624C33.7387 32.2014 33.7538 32.3544 33.7244 32.502C33.6951 32.6497 33.6226 32.7852 33.5162 32.8917C33.4097 32.9981 33.2741 33.0706 33.1265 33.0999C32.9789 33.1293 32.8259 33.1142 32.6869 33.0566C32.5478 32.999 32.429 32.9015 32.3454 32.7764C32.2617 32.6512 32.2171 32.5041 32.2171 32.3536C32.2171 32.1518 32.2973 31.9582 32.44 31.8155C32.5827 31.6728 32.7763 31.5926 32.9781 31.5926V31.5926Z"
            fill="black" />
          <path
            d="M41.3488 20.9389H38.3049V19.417H36.783V20.9389H30.6953V19.417H29.1734V20.9389H26.1295C25.7259 20.9389 25.3388 21.0993 25.0534 21.3847C24.7679 21.6701 24.6076 22.0572 24.6076 22.4608V37.6801C24.6076 38.0837 24.7679 38.4708 25.0534 38.7562C25.3388 39.0417 25.7259 39.202 26.1295 39.202H29.1734V37.6801H26.1295V22.4608H29.1734V23.9828H30.6953V22.4608H36.783V23.9828H38.3049V22.4608H41.3488V25.5047H42.8707V22.4608C42.8707 22.0572 42.7103 21.6701 42.4249 21.3847C42.1395 21.0993 41.7524 20.9389 41.3488 20.9389V20.9389Z"
            fill="black" />
        </svg>

        <svg width="69" height="60" viewBox="0 0 69 60" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M30.8726 21.6963C31.59 21.6963 32.2913 21.9138 32.8878 22.3215C33.4843 22.7291 33.9492 23.3085 34.2237 23.9863C34.4983 24.6642 34.5701 25.4101 34.4301 26.1297C34.2902 26.8493 33.9447 27.5103 33.4374 28.0291C32.9302 28.5479 32.2838 28.9012 31.5802 29.0443C30.8766 29.1875 30.1473 29.114 29.4845 28.8332C28.8217 28.5525 28.2552 28.077 27.8566 27.4669C27.4581 26.8569 27.2453 26.1397 27.2453 25.406C27.2453 24.4221 27.6275 23.4785 28.3077 22.7828C28.988 22.0871 29.9106 21.6963 30.8726 21.6963M30.8726 20.2124C29.8682 20.2124 28.8864 20.517 28.0513 21.0877C27.2162 21.6583 26.5653 22.4695 26.181 23.4185C25.7966 24.3675 25.6961 25.4117 25.892 26.4192C26.088 27.4266 26.5716 28.352 27.2818 29.0783C27.992 29.8047 28.8968 30.2993 29.8819 30.4997C30.867 30.7001 31.888 30.5973 32.8159 30.2042C33.7438 29.8111 34.5369 29.1454 35.0949 28.2913C35.6529 27.4373 35.9507 26.4331 35.9507 25.406C35.9507 24.0285 35.4157 22.7075 34.4634 21.7336C33.511 20.7596 32.2194 20.2124 30.8726 20.2124V20.2124ZM38.1271 40.9866H36.6762V37.2769C36.6762 36.2931 36.294 35.3495 35.6138 34.6538C34.9335 33.9581 34.0109 33.5672 33.0489 33.5672H28.6962C27.7342 33.5672 26.8116 33.9581 26.1314 34.6538C25.4512 35.3495 25.069 36.2931 25.069 37.2769V40.9866H23.6181V37.2769C23.6181 35.8995 24.1531 34.5785 25.1055 33.6045C26.0578 32.6305 27.3494 32.0834 28.6962 32.0834H33.0489C34.3957 32.0834 35.6874 32.6305 36.6397 33.6045C37.592 34.5785 38.1271 35.8995 38.1271 37.2769V40.9866ZM38.1271 21.6963H45.3815V23.1801H38.1271V21.6963ZM38.1271 25.406H45.3815V26.8898H38.1271V25.406ZM38.1271 29.1156H43.2052V30.5995H38.1271V29.1156Z"
            fill="black" />
        </svg>
        <svg width="69" height="60" viewBox="0 0 69 60" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M34.5 20.019C33.5045 20.019 32.7969 20.7586 32.4472 21.681H26.5861V40.7932H42.414V21.681H36.5529C36.2031 20.7586 35.4956 20.019 34.5 20.019ZM34.5 21.681C34.9393 21.681 35.2914 22.0508 35.2914 22.5119V23.3429H37.6656V25.0048H31.3344V23.3429H33.7086V22.5119C33.7086 22.0508 34.0608 21.681 34.5 21.681ZM28.1689 23.3429H29.7517V26.6668H39.2484V23.3429H40.8312V39.1313H28.1689V23.3429ZM33.7086 29.1597V31.6526H31.3344V33.3145H33.7086V35.8074H35.2914V33.3145H37.6656V31.6526H35.2914V29.1597H33.7086Z"
            fill="black" />
        </svg>
        <svg width="69" height="60" viewBox="0 0 69 60" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M33.6667 17.7158H36.3333C37.0697 17.7158 37.6667 18.3128 37.6667 19.0492V19.8075C37.6667 20.3779 38.0495 20.8735 38.5763 21.0922C39.1033 21.311 39.7169 21.2276 40.1204 20.8241L40.6568 20.2877C41.1775 19.767 42.0217 19.767 42.5424 20.2877L44.428 22.1733C44.9488 22.694 44.9487 23.5382 44.428 24.0589L43.8917 24.5953C43.4881 24.9988 43.4048 25.6124 43.6236 26.1395C43.8423 26.6663 44.3379 27.0492 44.9084 27.0492H45.6667C46.4031 27.0492 47 27.6461 47 28.3825V31.0492C47 31.7856 46.4031 32.3825 45.6667 32.3825H44.9083C44.3379 32.3825 43.8424 32.7653 43.6236 33.2921C43.4048 33.8192 43.4881 34.4328 43.8917 34.8362L44.428 35.3726C44.9488 35.8933 44.9488 36.7376 44.428 37.2582L42.5424 39.1438C42.0217 39.6646 41.1775 39.6646 40.6568 39.1438L40.1204 38.6076C39.7169 38.204 39.1033 38.1206 38.5763 38.3394C38.0495 38.5582 37.6667 39.0537 37.6667 39.6241V40.3825C37.6667 41.1189 37.0697 41.7158 36.3333 41.7158H33.6667C32.9303 41.7158 32.3333 41.1189 32.3333 40.3825V39.6242C32.3333 39.0537 31.9505 38.5581 31.4237 38.3394C30.8966 38.1206 30.283 38.204 29.8795 38.6076L29.3431 39.1438C28.8224 39.6646 27.9782 39.6646 27.4575 39.1438L25.5719 37.2582C25.0512 36.7376 25.0512 35.8933 25.5719 35.3726L26.1083 34.8362C26.5118 34.4328 26.5952 33.8192 26.3764 33.2921C26.1577 32.7653 25.6621 32.3825 25.0917 32.3825H24.3333C23.597 32.3825 23 31.7856 23 31.0492V28.3825C23 27.6461 23.597 27.0492 24.3333 27.0492H25.0917C25.6621 27.0492 26.1577 26.6663 26.3764 26.1395C26.5952 25.6125 26.5118 24.9989 26.1083 24.5954L25.5719 24.0589C25.0512 23.5382 25.0512 22.694 25.5719 22.1733L27.4575 20.2877C27.9782 19.767 28.8224 19.767 29.3431 20.2877L29.8795 20.8241C30.283 21.2276 30.8967 21.311 31.4237 21.0922C31.9505 20.8735 32.3333 20.3779 32.3333 19.8075V19.0492C32.3333 18.3128 32.9303 17.7158 33.6667 17.7158Z"
            stroke="black" stroke-width="1.75" />
          <path
            d="M37.6666 29.716C37.6666 31.1888 36.4728 32.3826 35 32.3826C33.5272 32.3826 32.3333 31.1888 32.3333 29.716C32.3333 28.2432 33.5272 27.0493 35 27.0493C36.4728 27.0493 37.6666 28.2432 37.6666 29.716Z"
            stroke="black" stroke-width="1.75" />
        </svg>

        <div @click="logout" class="pt-12 mr-3">
          <svg viewBox="0 0 68 58" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M30.9996 37.7469H27.1095C26.5936 37.7469 26.0989 37.5419 25.7341 37.1772C25.3694 36.8124 25.1644 36.3177 25.1644 35.8018V22.1863C25.1644 21.6704 25.3694 21.1757 25.7341 20.8109C26.0989 20.4461 26.5936 20.2412 27.1095 20.2412H30.9996M37.8074 33.8567L42.6701 28.994L37.8074 24.1314M42.6701 28.994H30.9996"
              stroke="#1C4475" stroke-width="2.18821" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </div>


      </q-list>
    </div>
  </q-drawer>
</template>

<script setup lang="ts">
import { ref, watch } from 'vue';
import MenuItem from 'src/components/global/MenuItem.vue';
import { useAuthStore } from 'src/stores/authstore';
import { useRouter } from 'vue-router';

const props = defineProps<{
  modalOpen: boolean;
}>();

const $router = useRouter()

const drawerOpen = ref(props.modalOpen);

const flag = ref(false);
const filter = ref('');

const activeMenu = ref('dashboard'); // Inicialmente o item 'Dashboard' estÃ¡ ativo

const authStore = useAuthStore();

const setActiveMenu = (menu: string) => {
  activeMenu.value = menu;
};

const logout = () => {
  authStore.logout()
  $router.push("/")
}

watch(
  () => props.modalOpen,
  (newVal) => {
    drawerOpen.value = newVal;
  }
);
</script>

<style lang="scss" scoped>
.poppins {
  font-family: 'Poppins', sans-serif;
  font-style: normal;
}

.barlow {
  font-family: 'Barlow', sans-serif;
  font-style: normal;
}

.menu-list .q-item {
  border-radius: 8px 8px 8px 8px;
}
</style>
